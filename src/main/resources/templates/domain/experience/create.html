<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Styled Form</title>
    <link rel="stylesheet" type="text/css" th:href="@{/css/experience/ec_styles.css}">
</head>
<body>
<form th:action th:object="${experience}" method="post">
    <label for="title">제목</label>
    <input type="text" th:field="*{title}" id="title"/>

    <label for="location">위치</label>
    <input type="text" th:field="*{location}" id="location"/>

    <label for="description">내용</label>
    <input type="text" th:field="*{descriptionText}" id="description"/>

    <label for="price">가격</label>
    <input type="text" th:field="*{price}" id="price"/>

    <label for="startDate">시작날짜</label>
    <input type="date" class="form-control" id="startDate" name="startDate" onchange="updateEndDate()">

    <label for="endDate">마감날짜</label>
    <input type="date" class="form-control" id="endDate" name="endDate">

    <label for="headcount">마감인원</label>
    <input type="text" th:field="*{headcount}" id="headcount"/>

    <input type="submit" value="제출">
</form>

<script>
    function updateEndDate() {
        const startDateInput = document.getElementById('startDate');
        const endDateInput = document.getElementById('endDate');

        // 시작 날짜의 값을 가져옵니다.
        const startDate = startDateInput.value;

        // 마감 날짜 입력 필드의 min 속성을 시작 날짜로 설정합니다.
        endDateInput.min = startDate;

        // 만약 마감 날짜가 시작 날짜보다 이전이라면 마감 날짜를 시작 날짜와 동일하게 조정합니다.
        if (endDateInput.value < startDate) {
            endDateInput.value = startDate;
        }
    }

    // 페이지 로드 시, 오늘 날짜를 시작 날짜와 마감 날짜의 최소값으로 설정합니다.
    window.onload = function() {
        const today = new Date().toISOString().split('T')[0];
        document.getElementById('startDate').min = today;
        document.getElementById('endDate').min = today;
    }
</script>

</body>
</html>