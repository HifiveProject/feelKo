<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Feelko-template3</title>

    <style>
        .reservation-list-container{
            width: 80%;
            margin: auto; /* 중앙 정렬 */
            padding-top: 15px;
        }

        /* 박스의 스타일을 정의합니다. */
        .reservation-item {
            display: flex;
            align-items: flex-start; /* 내용물을 상단 정렬로 변경 */
            border: 1px solid #ddd;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            background-color: #fff;
            overflow: hidden; /* 내용이 넘치는 것을 숨깁니다 */
            max-width: 1000px; /* 박스의 최대 너비를 설정합니다. */
            margin-left: auto; /* 왼쪽 마진을 자동으로 설정하여 중앙 정렬 효과를 줍니다. */
            margin-right: auto; /* 오른쪽 마진을 자동으로 설정하여 중앙 정렬 효과를 줍니다. */
        }

        /* 이미지의 스타일을 정의합니다. */
        .reservation-image {
            flex-shrink: 0;
            width: 200px; /* 이미지 너비 증가 */
            height: auto; /* 이미지 높이를 자동으로 조절 */
            object-fit: cover;
            border-radius: 5px;
            margin-right: 25px; /* 이미지와 텍스트 사이의 간격을 늘립니다 */
        }

        /* 제목과 상세 정보의 스타일을 정의합니다. */
        .reservation-info {
            flex-grow: 1;
            padding-right: 25px; /* 오른쪽 버튼과의 간격을 늘립니다 */
        }

        /* 상세 정보의 라벨 스타일을 정의합니다. */
        .reservation-info-label {
            font-size: 0.8em;
            color: #999;
            margin-bottom: 5px; /* 라벨 아래의 간격을 추가합니다 */
        }

        .reservation-info-label, .reservation-detail {
            margin-left: 20px; /* 왼쪽 마진을 추가하여 오른쪽으로 밀어냅니다. */
        }

        /* 버튼 컨테이너의 스타일을 정의합니다. */
        .reservation-buttons {
            display: flex;
            flex-direction: column;
            align-self: stretch; /* 버튼 컨테이너의 높이를 박스 높이에 맞춥니다 */
            justify-content: space-between; /* 버튼을 수직으로 균등하게 배치합니다 */
        }

        .button1 {
            color: white !important; /* 글씨색 흰색으로 설정 */
            background-color: #007bff; /* 배경색 설정 */
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            text-decoration: none; /* 텍스트 밑줄 없애기 */
            display: inline-block; /* 버튼처럼 보이도록 설정 */
            transition: background-color 0.3s ease; /* 호버 효과를 위한 배경색 변환 설정 */
        }

        .button1:hover {
            background-color: #0056b3; /* 호버 시 배경색 변경 */
        }

        /* 마지막 버튼의 마진을 제거합니다. */
        .button1:last-child {
            margin-bottom: 0;
        }
    </style>

</head>

<body class="template--body">

<!-- Template-header 시작 -->
<th:block th:replace="~{domain/layout/header}"></th:block>
<!-- Template-header 끝 -->

<!-- Template-main 시작 -->
<main class="content">
    <!-- 왼쪽 메뉴바 포함 -->
    <div th:replace="~{domain/layout/mypage-leftAside}"></div>

    <!-- 사용자 정보 섹션 -->
    <section class="main-content">
        <div class="reservation-list-container">
            <div th:if="!${reservations.isEmpty()}" th:each="reservationDto : ${reservations}" class="reservation-item">
                <img th:src="${reservationDto.imageUrl}" alt="체험 이미지" class="reservation-image">
                <div class="reservation-info">
                    <div class="reservation-info-label">체험 제목</div>
                    <div th:text="${reservationDto.title}" class="reservation-detail">Title</div>
                    <div class="reservation-info-label">예약 날짜</div>
                    <div th:text="${reservationDto.reservationDate}" class="reservation-detail">Date</div>
                    <div class="reservation-info-label">가격</div>
                    <div th:text="${#numbers.formatInteger(reservationDto.price, 0)} + ' (원)'" class="reservation-detail">Price
                    </div>
                </div>
                <div class="reservation-buttons">
                    <a th:href="@{/experiences/{id}(id=${reservationDto.experienceId})}" class="button1">예약상세보기</a>
                    <a th:href="@{/experiences/{id}(id=${reservationDto.experienceId})}" class="button1">문의하기</a>
                    <a th:href="@{/experiences/{id}(id=${reservationDto.experienceId})}" class="button1">취소하기</a>
                </div>
            </div>

            <div th:if="${reservations.isEmpty()}">
                <p>예약 정보가 없습니다.</p>
            </div>

            <!-- 페이징 처리 -->
            <div th:if="${reservations.totalPages > 1}" class="pagination-container mt-4">
                <ul class="pagination justify-content-center">
                    <!-- 이전 페이지 버튼 -->
                    <li th:classappend="${!reservations.hasPrevious} ? 'disabled' : ''" class="page-item">
                        <a class="page-link" th:href="@{reservation-list(page=${reservations.number - 1})}"
                           aria-label="Previous">
                            <span aria-hidden="true">&laquo;</span>
                        </a>
                    </li>

                    <!-- 페이지 번호 -->
                    <li th:each="pageNum : ${#numbers.sequence(0, reservations.totalPages - 1)}"
                        th:classappend="${pageNum == reservations.number} ? 'active' : ''" class="page-item">
                        <a class="page-link" th:href="@{reservation-list(page=${pageNum})}" th:text="${pageNum + 1}"></a>
                    </li>

                    <!-- 다음 페이지 버튼 -->
                    <li th:classappend="${!reservations.hasNext} ? 'disabled' : ''" class="page-item">
                        <a class="page-link" th:href="@{reservation-list(page=${reservations.number + 1})}"
                           aria-label="Next">
                            <span aria-hidden="true">&raquo;</span>
                        </a>
                    </li>
                </ul>
            </div>

        </div>

    </section>

    <aside class="template--rightAside"></aside>
</main>
<!-- Template-main 끝 -->

<!-- Template-footer 시작 -->
<th:block th:replace="~{domain/layout/footer}"></th:block>
<!-- Template-footer 끝 -->
<!-- bootstrap -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
        crossorigin="anonymous"></script>

</body>
</html>