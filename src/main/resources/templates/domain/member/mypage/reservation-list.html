<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Feelko-template3</title>

    <style>
        /* 사용자 정보 섹션 스타일 */
        .template--Section {
            padding-top: 30px; /* 섹션 상단 패딩 추가 */
        }

    </style>

</head>

<body class="template--body">

<!-- Template-header 시작 -->
<th:block th:replace="~{domain/layout/header}"></th:block>
<!-- Template-header 끝 -->

<!-- Template-main 시작 -->
<main class="template--main">
    <!-- 왼쪽 메뉴바 포함 -->
    <div th:replace="~{domain/layout/mypage-leftAside}"></div>

    <!-- 사용자 정보 섹션 -->
    <section class="template--Section">
        <h2>예약 목록</h2>

        <div>
            <table>
                <thead>
                <tr>
                    <th>체험 이미지</th>
                    <th>체험 ID</th>
                    <th>주문 ID</th>
                    <th>결제 키</th>
                    <th>가격</th>
                    <th>예약 날짜</th>
                </tr>
                </thead>
                <tbody>
                <!-- 예약 데이터 반복 -->
                <tr th:each="reservation : ${reservations}">
                    <td><img th:src="@{${reservation.experienceImage}}" alt="체험 이미지"
                             style="width: 100px; height: auto;"/></td>
                    <td th:text="${reservation.experienceId}">체험 ID</td>
                    <td th:text="${reservation.orderId}">주문 ID</td>
                    <td th:text="${reservation.paymentKey}">결제 키</td>
                    <td th:text="${reservation.price}">가격</td>
                    <td th:text="${reservation.reservationDate}">예약 날짜</td>
                </tr>
                </tbody>
            </table>
        </div>

        <div th:if="${reservations.isEmpty()}">
            <p>예약이 없습니다.</p>
        </div>

        <!-- 페이징 처리 -->
        <div th:if="${reservations.totalPages > 1}" class="pagination-container mt-4">
            <ul class="pagination justify-content-center">
                <!-- 이전 페이지 버튼 -->
                <li th:classappend="${!reservations.hasPrevious} ? 'disabled' : ''" class="page-item">
                    <a class="page-link" th:href="@{reservation-list(page=${reservations.number - 1})}" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                    </a>
                </li>

                <!-- 페이지 번호 -->
                <li th:each="pageNum : ${#numbers.sequence(0, reservations.totalPages - 1)}"
                    th:classappend="${pageNum == reservations.number} ? 'active' : ''" class="page-item">
                    <a class="page-link" th:href="@{reservation-list(page=${pageNum})}" th:text="${pageNum + 1}"></a>
                </li>

                <!-- 다음 페이지 버튼 -->
                <li th:classappend="${!reservations.hasNext} ? 'disabled' : ''" class="page-item">
                    <a class="page-link" th:href="@{reservation-list(page=${reservations.number + 1})}" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            </ul>
        </div>

    </section>

    <aside class="template--rightAside"></aside>
</main>
<!-- Template-main 끝 -->

<!-- Template-footer 시작 -->
<th:block th:replace="~{domain/layout/footer}"></th:block>
<!-- Template-footer 끝 -->
<!-- bootstrap -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
        crossorigin="anonymous"></script>

</body>
</html>